# Feature Specification: 발제 중심 홈 피드 재정렬

**Created**: 2026-01-03  
**Status**: Draft  
**Input**: User description: "메인 UI에서 발제(심사자) 포스트를 중심에 두고, 최신 발제가 위에 오도록 정렬한 뒤 그 아래에 흑/백 포스트를 좌우로 배치하는 구조로 바꾸고 싶다. 발제 포스트의 정렬에 의존하는 속성을 추가해 하위 2개 글이 매달리도록 하며, 발제 포스트를 중심으로 내비게이션한다."

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 방문자는 발제 중심으로 대결 구도를 빠르게 파악한다 (Priority: P1)

홈 피드에서 발제(심사자) 포스트가 상단 축이 되고, 그 아래 흑/백 포스트가 좌우로 붙어 보여 대결 구도가 즉시 이해된다.

**Why this priority**: 홈 첫 화면에서 구조가 명확해야 탐색이 빠르며, 콘텐츠의 맥락(대결/판정)이 직관적으로 전달된다.  
**Independent Test**: 홈(`/`)에 발제 2개와 각 흑/백 글이 있을 때, 최신 발제가 맨 위로 정렬되고 각 발제 아래에 흑/백 카드가 좌우로 고정 배치된다.

**Acceptance Scenarios**:
1. **Given** 발제 포스트가 2개 이상 있고 날짜가 다를 때, **When** 홈을 본다, **Then** 발제 카드가 최신순으로 위에서 아래로 정렬된다.
2. **Given** 특정 발제에 흑/백 포스트가 연결되어 있을 때, **When** 홈을 본다, **Then** 흑은 좌측, 백은 우측에 배치되고 중앙 축(발제 카드)과 시각적으로 연결된다.

---

### User Story 2 - 발제/흑/백의 연결 기준이 명확해 편집자가 관리한다 (Priority: P2)

작성자는 발제 포스트에 대응하는 흑/백 포스트를 특정 속성으로 연결해, 원하는 발제 아래에 정확히 매달리게 한다.

**Why this priority**: 관계 키가 불명확하면 콘텐츠 관리가 어려워지고, 목록이 잘못 매칭될 위험이 있다.  
**Independent Test**: 동일한 연결 키를 가진 발제/흑/백 포스트가 있을 때, 목록에서 3개가 한 묶음으로 표시된다.

**Acceptance Scenarios**:
1. **Given** 발제/흑/백 포스트에 동일한 연결 키가 있을 때, **When** 홈을 본다, **Then** 한 묶음으로 그룹핑되어 표시된다.
2. **Given** 흑 또는 백 포스트가 누락된 발제가 있을 때, **When** 홈을 본다, **Then** 누락된 쪽은 빈 슬롯/보조 상태로 처리되고 레이아웃이 무너지지 않는다.

---

### User Story 3 - 모바일에서도 발제 중심 내비게이션이 유지된다 (Priority: P2)

모바일에서는 발제 → 흑 → 백 순서로 스택되며, 관계가 명확히 보이도록 라벨/간격이 유지된다.

**Why this priority**: 모바일 유입이 높고, 좌우 배치가 불가능한 환경에서도 관계성이 유지되어야 한다.  
**Independent Test**: 모바일 폭(≤768px)에서 홈을 스크롤해 각 발제 묶음이 순차적으로 읽힌다.

**Acceptance Scenarios**:
1. **Given** 모바일 화면에서 홈을 본다, **When** 발제 묶음을 본다, **Then** 발제 카드가 먼저 나오고 그 아래에 흑/백 카드가 순차적으로 나타난다.
2. **Given** 모바일 화면에서 홈을 본다, **When** 스크롤한다, **Then** 가로 스크롤 없이 카드가 화면 폭에 맞게 정렬된다.

---

### Edge Cases

- 발제는 있으나 흑/백이 모두 없는 경우, 어떻게 표시할까?
- 흑 또는 백 포스트가 여러 개일 때, 어떤 기준으로 하나를 선택할까?
- 연결 키가 중복되거나 발제 포스트가 없는 흑/백 포스트는 어디에 표시할까?

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 시스템 MUST 홈 피드에서 발제 포스트를 기준으로 그룹을 만들고, 발제 포스트를 최신순으로 정렬한다.
- **FR-002**: 시스템 MUST 각 발제 그룹에서 발제 카드(중앙)와 흑/백 카드(좌/우)를 고정 레이아웃으로 배치한다.
- **FR-003**: 시스템 MUST `match_id`(string)로 발제/흑/백 포스트를 연결한다.
- **FR-004**: 시스템 MUST 흑 또는 백 포스트가 누락되더라도 레이아웃이 붕괴되지 않도록 빈 슬롯/대체 상태를 표시한다.
- **FR-005**: 시스템 MUST 모바일(≤768px)에서는 발제 → 흑 → 백 순으로 스택 레이아웃을 적용한다.
- **FR-006**: 시스템 MUST 발제/흑/백 카드 각각이 해당 상세 페이지로 이동 가능하도록 링크를 제공한다.

### Key Entities *(include if feature involves data)*

- **발제 포스트**: 중립 축을 담당하는 포스트, 최신순 정렬 기준이 됨.
- **흑/백 포스트**: `side: "Black"|"White"` 속성으로 구분되는 대결 포스트.
- **연결 키**: 발제와 흑/백을 하나의 묶음으로 매칭하는 식별자.

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 홈에서 발제 포스트가 날짜 내림차순으로 정렬되고, 각 발제 아래에 흑/백 카드가 좌우로 고정 표시된다.
- **SC-002**: 흑 또는 백 포스트가 누락된 묶음에서도 레이아웃 깨짐이나 가로 스크롤이 발생하지 않는다.
- **SC-003**: 모바일에서 발제-흑-백 순서가 유지되고 카드 간 관계가 시각적으로 구분된다.
- **SC-004**: 동일한 연결 키를 가진 발제/흑/백 포스트가 올바르게 한 묶음으로 렌더링된다.
